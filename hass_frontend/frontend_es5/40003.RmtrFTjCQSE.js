"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[40003,55424,13814],{72043:function(e,t,n){n.d(t,{A:function(){return o},v:function(){return c}});var i=n(23158),a=n(25101),r=n(66477),s=function(e,t,n,r){var s=n((0,i.Z)(e,t),r);return s instanceof Date?(0,a.Z)(s,t):s},o=function(e,t,n,i,a){return n.time_zone===r.c_.server?s(e,i.time_zone,t,a):t(e,a)},c=function(e,t,n,i,a){return n.time_zone===r.c_.server?s(e,i.time_zone,t,a):t(e,a)}},92306:function(e,t,n){n.d(t,{v:function(){return a}});var i=n(40039),a=(n(36513),function(e,t){var n,a={},r=(0,i.Z)(e);try{for(r.s();!(n=r.n()).done;){var s=n.value,o=t(s);o in a?a[o].push(s):a[o]=[s]}}catch(c){r.e(c)}finally{r.f()}return a})},84431:function(e,t,n){var i,a=n(88962),r=n(99312),s=n(81043),o=n(33368),c=n(71650),l=n(82390),d=n(69205),h=n(70906),u=n(91808),p=n(34541),f=n(47838),g=(n(97393),n(68144)),v=n(63335),m=n(21270),y=n(96762),_=n(95260),k=n(47181);(0,u.Z)([(0,_.Mo)("ha-check-list-item")],(function(e,t){var n,u=function(t){(0,d.Z)(i,t);var n=(0,h.Z)(i);function i(){var t;(0,c.Z)(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,l.Z)(t)),t}return(0,o.Z)(i)}(t);return{F:u,d:[{kind:"method",key:"onChange",value:(n=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,p.Z)((0,f.Z)(u.prototype),"onChange",this).call(this,t),(0,k.B)(this,t.type);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"field",static:!0,key:"styles",value:function(){return[y.W,m.W,(0,g.iv)(i||(i=(0,a.Z)([":host{--mdc-theme-secondary:var(--primary-color)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,16px);margin-inline-start:0px;direction:var(--direction)}.mdc-deprecated-list-item__meta{flex-shrink:0;direction:var(--direction);margin-inline-start:auto;margin-inline-end:0}.mdc-deprecated-list-item__graphic{margin-top:var(--check-list-item-graphic-margin-top)}"])))]}}]}}),v.F)},13814:function(e,t,n){var i,a,r,s,o,c,l=n(88962),d=n(93359),h=n(33368),u=n(71650),p=n(82390),f=n(69205),g=n(70906),v=n(91808),m=(n(97393),n(85717),n(46349),n(70320),n(65974),n(10733),n(47704),n(61641),n(44577),n(59401)),y=n(59281),_=n(59429),k=n(93752),b=n(79021),x=n(13250),Z=n(1905),w=n(32182),D=n(69388),A=n(70451),C=n(27605),S=n(68144),O=n(95260),P=n(72043),z=n(26410),T=n(12198),B=n(44583),M=n(65810),R=n(87744),L=(n(76843),n(28461)),j=n(82297),E=n(67365),W=n.n(E),H=n(38976),U=n(47181),F=(n(36513),n(14516)),V=(0,F.Z)((function(e,t){for(var n=[],i=new Intl.DateTimeFormat(e,{weekday:t?"short":"long",timeZone:"UTC"}),a=0;a<7;a++){var r=new Date(Date.UTC(1970,0,4+a));n.push(i.format(r))}return n})),I=(0,F.Z)((function(e,t){for(var n=[],i=new Intl.DateTimeFormat(e,{month:t?"short":"long",timeZone:"UTC"}),a=0;a<12;a++){var r=new Date(Date.UTC(1970,0+a,1));n.push(i.format(r))}return n})),q=j.ZP.extend({mixins:[W()],methods:{selectMonthDate:function(){var e=this.end||new Date;this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})}}}),K=j.ZP.extend({props:{timePicker:{type:Boolean,default:!0},twentyfourHours:{type:Boolean,default:!0},openingDirection:{type:String,default:"right"},disabled:{type:Boolean,default:!1},ranges:{type:Boolean,default:!0},startDate:{type:[String,Date],default:function(){return new Date}},endDate:{type:[String,Date],default:function(){return new Date}},firstDay:{type:Number,default:1},autoApply:{type:Boolean,default:!1},language:{type:String,default:"en"}},render:function(e){var t=this;return e(q,{props:{"time-picker":this.timePicker,"auto-apply":this.autoApply,opens:this.openingDirection,"show-dropdowns":!1,"time-picker24-hour":this.twentyfourHours,disabled:this.disabled,ranges:!!this.ranges&&{},"locale-data":{firstDay:this.firstDay,daysOfWeek:V(this.language,!0),monthNames:I(this.language,!1)}},model:{value:{startDate:this.startDate,endDate:this.endDate},callback:function(e){(0,U.B)(t.$el,"change",e)},expression:"dateRange"},scopedSlots:{input:function(){return e("slot",{domProps:{name:"input"}})},header:function(){return e("slot",{domProps:{name:"header"}})},ranges:function(){return e("slot",{domProps:{name:"ranges"}})},footer:function(){return e("slot",{domProps:{name:"footer"}})}}})}}),N=(0,L.Z)(j.ZP,K),J=((0,v.Z)([(0,O.Mo)("date-range-picker")],(function(e,t){return{F:function(t){(0,f.Z)(i,t);var n=(0,g.Z)(i);function i(){var t;(0,u.Z)(this,i),t=n.call(this),e((0,p.Z)(t));var a=document.createElement("style");a.innerHTML="\n          ".concat(H,"\n          .calendars {\n            display: flex;\n            flex-wrap: nowrap !important;\n          }\n          .daterangepicker {\n            top: auto;\n            box-shadow: var(--ha-card-box-shadow, none);\n            background-color: var(--card-background-color);\n            border-radius: var(--ha-card-border-radius, 12px);\n            border-width: var(--ha-card-border-width, 1px);\n            border-style: solid;\n            border-color: var(\n              --ha-card-border-color,\n              var(--divider-color, #e0e0e0)\n            );\n            color: var(--primary-text-color);\n            min-width: initial !important;\n            max-height: var(--date-range-picker-max-height);\n            overflow-y: auto;\n          }\n          .daterangepicker:before {\n            display: none;\n          }\n          .daterangepicker:after {\n            border-bottom: 6px solid var(--card-background-color);\n          }\n          .daterangepicker .calendar-table {\n            background-color: var(--card-background-color);\n            border: none;\n          }\n          .daterangepicker .calendar-table td,\n          .daterangepicker .calendar-table th {\n            background-color: transparent;\n            color: var(--secondary-text-color);\n            border-radius: 0;\n            outline: none;\n            min-width: 32px;\n            height: 32px;\n          }\n          .daterangepicker td.off,\n          .daterangepicker td.off.end-date,\n          .daterangepicker td.off.in-range,\n          .daterangepicker td.off.start-date {\n            background-color: var(--secondary-background-color);\n            color: var(--disabled-text-color);\n          }\n          .daterangepicker td.in-range {\n            background-color: var(--light-primary-color);\n            color: var(--text-light-primary-color, var(--primary-text-color));\n          }\n          .daterangepicker td.active,\n          .daterangepicker td.active:hover {\n            background-color: var(--primary-color);\n            color: var(--text-primary-color);\n          }\n          .daterangepicker td.start-date.end-date {\n            border-radius: 50%;\n          }\n          .daterangepicker td.start-date {\n            border-radius: 50% 0 0 50%;\n          }\n          .daterangepicker td.end-date {\n            border-radius: 0 50% 50% 0;\n          }\n          .reportrange-text {\n            background: none !important;\n            padding: 0 !important;\n            border: none !important;\n          }\n          .daterangepicker .calendar-table .next span,\n          .daterangepicker .calendar-table .prev span {\n            border: solid var(--primary-text-color);\n            border-width: 0 2px 2px 0;\n          }\n          .daterangepicker .ranges li {\n            outline: none;\n          }\n          .daterangepicker .ranges li:hover {\n            background-color: var(--secondary-background-color);\n          }\n          .daterangepicker .ranges li.active {\n            background-color: var(--primary-color);\n            color: var(--text-primary-color);\n          }\n          .daterangepicker select.ampmselect,\n          .daterangepicker select.hourselect,\n          .daterangepicker select.minuteselect,\n          .daterangepicker select.secondselect {\n            background: transparent;\n            border: 1px solid var(--divider-color);\n            color: var(--primary-color);\n          }\n          .daterangepicker .drp-buttons .btn {\n            border: 1px solid var(--primary-color);\n            background-color: transparent;\n            color: var(--primary-color);\n            border-radius: 4px;\n            padding: 8px;\n            cursor: pointer;\n          }\n          .calendars-container {\n            flex-direction: column;\n            align-items: center;\n          }\n          .drp-calendar.col.right .calendar-table {\n            display: none;\n          }\n          .daterangepicker.show-ranges .drp-calendar.left {\n            border-left: 0px;\n          }\n          .daterangepicker .drp-calendar.left {\n            padding: 8px;\n            width: unset;\n            max-width: unset;\n            min-width: 270px;\n          }\n          .daterangepicker.show-calendar .ranges {\n            margin-top: 0;\n            padding-top: 8px;\n            border-right: 1px solid var(--divider-color);\n          }\n          @media only screen and (max-width: 800px) {\n            .calendars {\n              flex-direction: column;\n            }\n          }\n          .calendar-table {\n            padding: 0 !important;\n          }\n          .daterangepicker.ltr {\n            direction: ltr;\n            text-align: left;\n          }\n          .vue-daterange-picker{\n            min-width: unset !important;\n            display: block !important;\n          }\n        ");var r=t.shadowRoot;return r.appendChild(a),r.addEventListener("click",(function(e){return e.stopPropagation()})),t}return(0,h.Z)(i)}(t),d:[]}}),N),n(52039),n(3555),n(10983),"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z");(0,v.Z)([(0,O.Mo)("ha-date-range-picker")],(function(e,t){var n=function(t){(0,f.Z)(i,t);var n=(0,g.Z)(i);function i(){var t;(0,u.Z)(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,p.Z)(t)),t}return(0,h.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,O.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,O.Cb)()],key:"startDate",value:void 0},{kind:"field",decorators:[(0,O.Cb)()],key:"endDate",value:void 0},{kind:"field",decorators:[(0,O.Cb)()],key:"ranges",value:void 0},{kind:"field",decorators:[(0,O.SB)()],key:"_ranges",value:void 0},{kind:"field",decorators:[(0,O.Cb)()],key:"autoApply",value:function(){return!1}},{kind:"field",decorators:[(0,O.Cb)()],key:"timePicker",value:function(){return!0}},{kind:"field",decorators:[(0,O.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,O.Cb)({type:Boolean})],key:"_hour24format",value:function(){return!1}},{kind:"field",decorators:[(0,O.Cb)({type:String})],key:"_rtlDirection",value:function(){return"ltr"}},{kind:"field",decorators:[(0,O.Cb)({type:Boolean})],key:"minimal",value:function(){return!1}},{kind:"field",decorators:[(0,O.Cb)({type:Boolean})],key:"extendedPresets",value:function(){return!1}},{kind:"field",decorators:[(0,O.Cb)()],key:"openingDirection",value:void 0},{kind:"field",decorators:[(0,O.SB)()],key:"_calcedOpeningDirection",value:void 0},{kind:"method",key:"willUpdate",value:function(e){var t,n;if(!this.hasUpdated&&void 0===this.ranges||e.has("hass")&&(null===(t=this.hass)||void 0===t?void 0:t.localize)!==(null===(n=e.get("hass"))||void 0===n?void 0:n.localize)){var i=new Date,a=(0,z.Bt)(this.hass.locale),r=(0,P.A)(i,m.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),s=(0,P.A)(i,y.Z,this.hass.locale,this.hass.config,{weekStartsOn:a});this._ranges=Object.assign((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},this.hass.localize("ui.components.date-range-picker.ranges.today"),[(0,P.A)(i,_.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,P.A)(i,k.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.yesterday"),[(0,P.A)((0,b.Z)(i,-1),_.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,P.A)((0,b.Z)(i,-1),k.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.this_week"),[r,s]),this.hass.localize("ui.components.date-range-picker.ranges.last_week"),[(0,b.Z)(r,-7),(0,b.Z)(s,-7)]),this.extendedPresets?(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},this.hass.localize("ui.components.date-range-picker.ranges.this_month"),[(0,P.A)(i,x.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,P.A)(i,Z.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.last_month"),[(0,P.A)((0,w.Z)(i,-1),x.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,P.A)((0,w.Z)(i,-1),Z.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.this_year"),[(0,P.A)(i,D.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,P.A)(i,A.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.last_year"),[(0,P.A)((0,C.Z)(i,-1),D.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,P.A)((0,C.Z)(i,-1),A.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]):{})}}},{kind:"method",key:"updated",value:function(e){if(e.has("hass")){var t=e.get("hass");t&&t.locale===this.hass.locale||(this._hour24format=!(0,M.y)(this.hass.locale),this._rtlDirection=(0,R.Zu)(this.hass))}}},{kind:"method",key:"render",value:function(){return(0,S.dy)(i||(i=(0,l.Z)([' <date-range-picker ?disabled="','" ?auto-apply="','" time-picker="','" twentyfour-hours="','" start-date="','" end-date="','" ?ranges="','" opening-direction="','" first-day="','" language="','"> <div slot="input" class="date-range-inputs" @click="','"> '," </div> ",' <div slot="footer" class="date-range-footer"> <mwc-button @click="','">','</mwc-button> <mwc-button @click="','">',"</mwc-button> </div> </date-range-picker> "])),this.disabled,this.autoApply,this.timePicker,this._hour24format,this.startDate,this.endDate,!1!==this.ranges,this.openingDirection||this._calcedOpeningDirection,(0,z.Bt)(this.hass.locale),this.hass.locale.language,this._handleClick,this.minimal?(0,S.dy)(r||(r=(0,l.Z)(['<ha-icon-button .label="','" .path="','"></ha-icon-button>'])),this.hass.localize("ui.components.date-range-picker.select_date_range"),J):(0,S.dy)(a||(a=(0,l.Z)(['<ha-svg-icon .path="','"></ha-svg-icon> <ha-textfield .value="','" .label="','" .disabled="','" @click="','" readonly="readonly"></ha-textfield> <ha-textfield .value="','" .label="','" .disabled="','" @click="','" readonly="readonly"></ha-textfield>'])),J,this.timePicker?(0,B.o0)(this.startDate,this.hass.locale,this.hass.config):(0,T.p6)(this.startDate,this.hass.locale,this.hass.config),this.hass.localize("ui.components.date-range-picker.start_date"),this.disabled,this._handleInputClick,this.timePicker?(0,B.o0)(this.endDate,this.hass.locale,this.hass.config):(0,T.p6)(this.endDate,this.hass.locale,this.hass.config),this.hass.localize("ui.components.date-range-picker.end_date"),this.disabled,this._handleInputClick),!1!==this.ranges&&(this.ranges||this._ranges)?(0,S.dy)(s||(s=(0,l.Z)(['<div slot="ranges" class="date-range-ranges" .dir="','"> <mwc-list @action="','" activatable> '," </mwc-list> </div>"])),this._rtlDirection,this._setDateRange,Object.keys(this.ranges||this._ranges).map((function(e){return(0,S.dy)(o||(o=(0,l.Z)(["<mwc-list-item>","</mwc-list-item>"])),e)}))):S.Ld,this._cancelDateRange,this.hass.localize("ui.common.cancel"),this._applyDateRange,this.hass.localize("ui.components.date-range-picker.select"))}},{kind:"method",key:"_setDateRange",value:function(e){var t=Object.values(this.ranges||this._ranges)[e.detail.index],n=this._dateRangePicker;n.clickRange(t),n.clickedApply()}},{kind:"method",key:"_cancelDateRange",value:function(){this._dateRangePicker.clickCancel()}},{kind:"method",key:"_applyDateRange",value:function(){this._dateRangePicker.clickedApply()}},{kind:"get",key:"_dateRangePicker",value:function(){return this.shadowRoot.querySelector("date-range-picker").vueComponent.$children[0]}},{kind:"method",key:"_handleInputClick",value:function(){this._dateRangePicker.open&&(this._dateRangePicker.open=!1)}},{kind:"method",key:"_handleClick",value:function(){if(!this._dateRangePicker.open&&!this.openingDirection){var e,t=this.getBoundingClientRect().x;e=t>2*window.innerWidth/3?"left":t<window.innerWidth/3?"right":"center",this._calcedOpeningDirection=e}}},{kind:"get",static:!0,key:"styles",value:function(){return(0,S.iv)(c||(c=(0,l.Z)(["ha-svg-icon{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial;direction:var(--direction)}ha-icon-button{direction:var(--direction)}.date-range-inputs{display:flex;align-items:center}.date-range-ranges{border-right:1px solid var(--divider-color)}.date-range-footer{display:flex;justify-content:flex-end;padding:8px;border-top:1px solid var(--divider-color)}ha-textfield{display:inline-block;max-width:250px;min-width:220px}ha-textfield:last-child{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}@media only screen and (max-width:800px){.date-range-ranges{border-right:none;border-bottom:1px solid var(--divider-color)}}@media only screen and (max-width:500px){ha-textfield{min-width:inherit}ha-svg-icon{display:none}}"])))}}]}}),S.oi)},73366:function(e,t,n){n.d(t,{M:function(){return _}});var i,a,r,s=n(88962),o=n(33368),c=n(71650),l=n(82390),d=n(69205),h=n(70906),u=n(91808),p=n(34541),f=n(47838),g=(n(97393),n(61092)),v=n(96762),m=n(68144),y=n(95260),_=(0,u.Z)([(0,y.Mo)("ha-list-item")],(function(e,t){var n=function(t){(0,d.Z)(i,t);var n=(0,h.Z)(i);function i(){var t;(0,c.Z)(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,l.Z)(t)),t}return(0,o.Z)(i)}(t);return{F:n,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,p.Z)((0,f.Z)(n.prototype),"renderRipple",this).call(this)}},{kind:"get",static:!0,key:"styles",value:function(){return[v.W,(0,m.iv)(i||(i=(0,s.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"]))),"rtl"===document.dir?(0,m.iv)(a||(a=(0,s.Z)(["span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important}"]))):(0,m.iv)(r||(r=(0,s.Z)([""])))]}}]}}),g.K)},3555:function(e,t,n){var i,a,r,s,o=n(88962),c=n(33368),l=n(71650),d=n(82390),h=n(69205),u=n(70906),p=n(91808),f=n(34541),g=n(47838),v=(n(97393),n(42977)),m=n(31338),y=n(68144),_=n(95260),k=n(30418);(0,p.Z)([(0,_.Mo)("ha-textfield")],(function(e,t){var n=function(t){(0,h.Z)(i,t);var n=(0,u.Z)(i);function i(){var t;(0,l.Z)(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,d.Z)(t)),t}return(0,c.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,_.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"iconTrailing",value:void 0},{kind:"field",decorators:[(0,_.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,_.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,_.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,_.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(e){(0,f.Z)((0,g.Z)(n.prototype),"updated",this).call(this,e),(e.has("invalid")&&(this.invalid||void 0!==e.get("invalid"))||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"trailing":"leading";return(0,y.dy)(i||(i=(0,o.Z)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),n,t?1:-1,n)}},{kind:"field",static:!0,key:"styles",value:function(){return[m.W,(0,y.iv)(a||(a=(0,o.Z)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:var(--direction)}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}"]))),"rtl"===k.E.document.dir?(0,y.iv)(r||(r=(0,o.Z)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__affix--suffix,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl}"]))):(0,y.iv)(s||(s=(0,o.Z)([""])))]}}]}}),v.P)},36226:function(e,t,n){var i,a=n(88962),r=n(33368),s=n(71650),o=n(82390),c=n(69205),l=n(70906),d=n(91808),h=(n(97393),n(67625)),u=n(71711),p=n(68144),f=n(95260);(0,d.Z)([(0,f.Mo)("ha-top-app-bar-fixed")],(function(e,t){var n=function(t){(0,c.Z)(i,t);var n=(0,l.Z)(i);function i(){var t;(0,s.Z)(this,i);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return t=n.call.apply(n,[this].concat(r)),e((0,o.Z)(t)),t}return(0,r.Z)(i)}(t);return{F:n,d:[{kind:"field",static:!0,key:"styles",value:function(){return[u.W,(0,p.iv)(i||(i=(0,a.Z)([".mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:var(--header-height)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:400;color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary))}"])))]}}]}}),h.s)},81582:function(e,t,n){n.d(t,{DJ:function(){return s},LZ:function(){return a},Nn:function(){return h},Ny:function(){return u},Pk:function(){return f},Q4:function(){return r},RQ:function(){return c},SO:function(){return l},T0:function(){return p},iJ:function(){return d},pB:function(){return o}});var i=n(53709),a=(n(85717),n(37313),["migration_error","setup_error","setup_retry"]),r=["not_loaded","loaded","setup_error","setup_retry"],s=function(e,t,n){var i={type:"config_entries/subscribe"};return n&&n.type&&(i.type_filter=n.type),e.connection.subscribeMessage((function(e){return t(e)}),i)},o=function(e,t){var n={};return t&&(t.type&&(n.type_filter=t.type),t.domain&&(n.domain=t.domain)),e.callWS(Object.assign({type:"config_entries/get"},n))},c=function(e,t){return e.callWS({type:"config_entries/get_single",entry_id:t})},l=function(e,t,n){return e.callWS(Object.assign({type:"config_entries/update",entry_id:t},n))},d=function(e,t){return e.callApi("DELETE","config/config_entries/entry/".concat(t))},h=function(e,t){return e.callApi("POST","config/config_entries/entry/".concat(t,"/reload"))},u=function(e,t){return e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"})},p=function(e,t){return e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null})},f=function(e,t){var n=(0,i.Z)(e),a=function(e){var n=t[e.domain];return"helper"===(null==n?void 0:n.integration_type)?-1:1};return n.sort((function(e,t){return a(t)-a(e)}))}},55424:function(e,t,n){n.d(t,{Bm:function(){return D},Cj:function(){return z},G9:function(){return q},Jj:function(){return j},KU:function(){return P},P:function(){return O},UB:function(){return F},ZC:function(){return M},_Z:function(){return R},b:function(){return N},gy:function(){return B},iK:function(){return C},jB:function(){return V},kJ:function(){return J},o1:function(){return A},rl:function(){return S},vE:function(){return K},xZ:function(){return T},yH:function(){return E}});var i=n(53709),a=n(68990),r=n(40039),s=n(99312),o=n(81043),c=(n(85717),n(40271),n(60163),n(36513),n(51358),n(46798),n(47084),n(5239),n(98490),n(10733),n(97393),n(9849),n(50289),n(94167),n(88640),n(51467),n(24112)),l=n(74774),d=n(63390),h=n(32182),u=n(38588),p=n(79021),f=n(39244),g=n(59429),v=n(93752),m=n(59699),y=n(97330),_=n(72043),k=n(49684),b=n(92306),x=n(81582),Z=n(38014),w=[],D=function(){return{stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},A=function(){return{stat_energy_to:"",stat_compensation:null,entity_energy_price:null,number_energy_price:null}},C=function(){return{type:"grid",flow_from:[],flow_to:[],cost_adjustment_day:0}},S=function(){return{type:"solar",stat_energy_from:"",config_entry_solar_forecast:null}},O=function(){return{type:"battery",stat_energy_from:"",stat_energy_to:""}},P=function(){return{type:"gas",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},z=function(){return{type:"water",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},T=function(e){return e.callWS({type:"energy/info"})},B=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadBackendTranslation("issues","energy");case 2:return e.abrupt("return",t.callWS({type:"energy/validate"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){return e.callWS({type:"energy/get_prefs"})},R=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.callWS(Object.assign({type:"energy/save_prefs"},n)),H(t),e.abrupt("return",i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n,i,a,r){var o,c=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>5&&void 0!==c[5]?c[5]:"hour",e.abrupt("return",t.callWS({type:"energy/fossil_energy_consumption",start_time:n.toISOString(),end_time:null==r?void 0:r.toISOString(),energy_statistic_ids:i,co2_statistic_id:a,period:o}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,i,a,r){return e.apply(this,arguments)}}(),j=function(e){return(0,b.v)(e.energy_sources,(function(e){return e.type}))},E=function(e,t,n){var i,a=[],s=(0,r.Z)(e.energy_sources);try{for(s.s();!(i=s.n()).done;){var o=i.value;if(!n||n.includes(o.type))if("solar"!==o.type)if("gas"!==o.type&&"water"!==o.type)if("battery"!==o.type){var c,l=(0,r.Z)(o.flow_from);try{for(l.s();!(c=l.n()).done;){var d=c.value;a.push(d.stat_energy_from),d.stat_cost&&a.push(d.stat_cost);var h=t.cost_sensors[d.stat_energy_from];h&&a.push(h)}}catch(m){l.e(m)}finally{l.f()}var u,p=(0,r.Z)(o.flow_to);try{for(p.s();!(u=p.n()).done;){var f=u.value;a.push(f.stat_energy_to),f.stat_compensation&&a.push(f.stat_compensation);var g=t.cost_sensors[f.stat_energy_to];g&&a.push(g)}}catch(m){p.e(m)}finally{p.f()}}else a.push(o.stat_energy_from),a.push(o.stat_energy_to);else{a.push(o.stat_energy_from),o.stat_cost&&a.push(o.stat_cost);var v=t.cost_sensors[o.stat_energy_from];v&&a.push(v)}else a.push(o.stat_energy_from)}}catch(m){s.e(m)}finally{s.f()}return a},W=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,n,o,g,v){var m,y,k,b,w,D,A,C,S,O,P,z,B,M,R,j,W,H,U,F,V,I,q,K,N,J,Q,$,G,Y,X,ee,te,ne,ie,ae,re,se,oe,ce,le,de,he,ue,pe,fe,ge;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,x.pB)(t,{domain:"co2signal"}),T(t)]);case 2:if(m=e.sent,y=(0,a.Z)(m,2),k=y[0],b=y[1],!(w=k.length?k[0]:void 0)){e.next=21;break}A=0,C=Object.values(t.entities);case 9:if(!(A<C.length)){e.next=21;break}if("co2signal"===(S=C[A]).platform){e.next=13;break}return e.abrupt("continue",18);case 13:if((O=t.states[S.entity_id])&&"%"===O.attributes.unit_of_measurement){e.next=16;break}return e.abrupt("continue",18);case 16:return D=O.entity_id,e.abrupt("break",21);case 18:A++,e.next=9;break;case 21:P=[],z=(0,r.Z)(n.energy_sources);try{for(z.s();!(B=z.n()).done;)if("grid"===(M=B.value).type){R=(0,r.Z)(M.flow_from);try{for(R.s();!(j=R.n()).done;)W=j.value,P.push(W.stat_energy_from)}catch(s){R.e(s)}finally{R.f()}}}catch(s){z.e(s)}finally{z.f()}return H=E(n,b,["grid","solar","battery","gas"]),U=E(n,b,["water"]),F=[].concat((0,i.Z)(H),(0,i.Z)(U)),V=(0,c.Z)(g||new Date,o),I=V>35?"month":V>2?"day":"hour",q=t.config.unit_system.length||"",K={energy:"kWh",volume:"km"===q?"m³":"ft³"},N={volume:"km"===q?"L":"gal"},J=H.length?(0,Z.dL)(t,o,g,H,I,K,["change"]):{},Q=U.length?(0,Z.dL)(t,o,g,U,I,N,["change"]):{},X={},ee={},v&&(G=(0,_.v)(o,l.Z,t.locale,t.config)&&(0,_.v)(g||new Date,d.Z,t.locale,t.config)?(0,_.A)(o,h.Z,t.locale,t.config,-(0,_.v)(g||new Date,u.Z,t.locale,t.config,o)-1):(0,_.A)(o,p.Z,t.locale,t.config,-1*(V+1)),Y=(0,f.Z)(o,-1),H.length&&(X=(0,Z.dL)(t,G,Y,H,I,K,["change"])),U.length&&(ee=(0,Z.dL)(t,G,Y,U,I,N,["change"]))),void 0!==D&&(te=L(t,o,P,D,g,V>35?"month":V>2?"day":"hour"),v&&(ne=L(t,G,P,D,Y,V>35?"month":V>2?"day":"hour"))),ie={},ae=F.length?(0,Z.Py)(t,F):[],e.next=42,Promise.all([J,Q,X,ee,ae,te,ne]);case 42:return re=e.sent,se=(0,a.Z)(re,7),oe=se[0],ce=se[1],le=se[2],de=se[3],he=se[4],ue=se[5],pe=se[6],fe=Object.assign(Object.assign({},oe),ce),v&&($=Object.assign(Object.assign({},le),de)),F.length&&he.forEach((function(e){ie[e.statistic_id]=e})),ge={start:o,end:g,startCompare:G,endCompare:Y,info:b,prefs:n,stats:fe,statsMetadata:ie,statsCompare:$,co2SignalConfigEntry:w,co2SignalEntity:D,fossilEnergyConsumption:ue,fossilEnergyConsumptionCompare:pe},e.abrupt("return",ge);case 56:case"end":return e.stop()}}),e)})));return function(t,n,i,a,r){return e.apply(this,arguments)}}(),H=function(e){w.forEach((function(t){var n=F(e,{key:t});n.clearPrefs(),n._active&&n.refresh()}))},U=function(e){if(e._refreshTimeout&&clearTimeout(e._refreshTimeout),e._active&&(!e.end||e.end>new Date)){var t=new Date;t.getMinutes()>=20&&t.setHours(t.getHours()+1),t.setMinutes(20,0,0),e._refreshTimeout=window.setTimeout((function(){return e.refresh()}),t.getTime()-Date.now())}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="_energy";if(t.key){if(!t.key.startsWith("energy_"))throw new Error("Key need to start with energy_");n="_".concat(t.key)}if(e.connection[n])return e.connection[n];w.push(t.key);var i=(0,y._)(e.connection,n,(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.prefs){t.next=4;break}return t.next=3,M(e);case 3:i.prefs=t.sent;case 4:return U(i),t.abrupt("return",W(e,i.prefs,i.start,i.end,i.compare));case 6:case"end":return t.stop()}}),t)})))),a=i.subscribe;i.subscribe=function(e){var t=a(e);return i._active++,void 0===i._refreshTimeout&&U(i),function(){i._active--,i._active<1&&(clearTimeout(i._refreshTimeout),i._refreshTimeout=void 0),t()}},i._active=0,i.prefs=t.prefs;var r=new Date,c=(0,k.Zs)(r,e.locale,e.config).split(":")[0];i.start=(0,_.A)("0"===c?(0,p.Z)(r,-1):r,g.Z,e.locale,e.config),i.end=(0,_.A)("0"===c?(0,p.Z)(r,-1):r,v.Z,e.locale,e.config);var l=function t(){i._updatePeriodTimeout=window.setTimeout((function(){i.start=(0,_.A)(new Date,g.Z,e.locale,e.config),i.end=(0,_.A)(new Date,v.Z,e.locale,e.config),t()}),(0,m.Z)((0,_.A)(r,v.Z,e.locale,e.config),1).getTime()-Date.now())};return l(),i.clearPrefs=function(){i.prefs=void 0},i.setPeriod=function(t,n){var a;i.start=t,i.end=n,i.start.getTime()!==(0,_.A)(new Date,g.Z,e.locale,e.config).getTime()||(null===(a=i.end)||void 0===a?void 0:a.getTime())!==(0,_.A)(new Date,v.Z,e.locale,e.config).getTime()||i._updatePeriodTimeout?i._updatePeriodTimeout&&(clearTimeout(i._updatePeriodTimeout),i._updatePeriodTimeout=void 0):l()},i.setCompare=function(e){i.compare=e},i},V=function(e){return e.callWS({type:"energy/solar_forecast"})},I=["volume","energy"],q=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=(0,r.Z)(e.energy_sources);try{for(a.s();!(t=a.n()).done;){var s=t.value;if("gas"===s.type&&(!i||i!==s.stat_energy_from)){var o=n[s.stat_energy_from];if(I.includes(null==o?void 0:o.unit_class))return o.unit_class}}}catch(c){a.e(c)}finally{a.f()}},K=function(e,t){var n=q(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});if(void 0!==n)return"energy"===n?"kWh":"km"===e.config.unit_system.length?"m³":"ft³"},N=function(e){return"km"===e.config.unit_system.length?"L":"gal"},J="/docs/energy/faq/#troubleshooting-missing-entities"},73826:function(e,t,n){n.d(t,{f:function(){return p}});var i=n(40039),a=n(33368),r=n(71650),s=n(82390),o=n(69205),c=n(70906),l=n(91808),d=n(34541),h=n(47838),u=(n(97393),n(46798),n(47084),n(51358),n(98490),n(40271),n(60163),n(9849),n(13526),n(95260)),p=function(e){var t=(0,l.Z)(null,(function(e,t){var n=function(t){(0,o.Z)(i,t);var n=(0,c.Z)(i);function i(){var t;(0,r.Z)(this,i);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return t=n.call.apply(n,[this].concat(o)),e((0,s.Z)(t)),t}return(0,a.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,u.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,d.Z)((0,h.Z)(n.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,d.Z)((0,h.Z)(n.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then((function(e){return e()})):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,d.Z)((0,h.Z)(n.prototype),"updated",this).call(this,e),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var t,a=(0,i.Z)(e.keys());try{for(a.s();!(t=a.n()).done;){var r=t.value;if(this.hassSubscribeRequiredHostProps.includes(r))return void this.__checkSubscribed()}}catch(s){a.e(s)}finally{a.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e,t=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((function(e){return void 0===t[e]}))||(this.__unsubs=this.hassSubscribe())}}]}}),e);return t}},40003:function(e,t,n){n.r(t);var i,a,r,s,o=n(99312),c=n(81043),l=n(88962),d=n(33368),h=n(71650),u=n(82390),p=n(69205),f=n(70906),g=n(91808),v=(n(97393),n(85717),n(68144)),m=n(95260),y=(n(48932),n(73366),n(36226),n(11654)),_=(n(23754),n(51292),n(83849)),k={views:[{strategy:{type:"energy"}}]};(0,g.Z)([(0,m.Mo)("ha-panel-energy")],(function(e,t){var n=function(t){(0,p.Z)(i,t);var n=(0,f.Z)(i);function i(){var t;(0,h.Z)(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,u.Z)(t)),t}return(0,d.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,m.SB)()],key:"_viewIndex",value:function(){return 0}},{kind:"field",decorators:[(0,m.SB)()],key:"_lovelace",value:void 0},{kind:"method",key:"willUpdate",value:function(e){if(this.hasUpdated||this.hass.loadFragmentTranslation("lovelace"),e.has("hass")){var t=e.get("hass");(null==t?void 0:t.locale)!==this.hass.locale&&this._setLovelace(),t&&t.localize!==this.hass.localize&&this._reloadView()}}},{kind:"method",key:"render",value:function(){var e;return(0,v.dy)(i||(i=(0,l.Z)([' <div class="header"> <div class="toolbar"> <ha-menu-button slot="navigationIcon" .hass="','" .narrow="','"></ha-menu-button> ',' <hui-energy-period-selector .hass="','" collectionKey="energy_dashboard"> ',' </hui-energy-period-selector> </div> </div> <hui-view id="view" .hass="','" .narrow="','" .lovelace="','" .index="','" @reload-energy-panel="','"></hui-view> '])),this.hass,this.narrow,this.narrow?v.Ld:(0,v.dy)(a||(a=(0,l.Z)(['<div class="main-title"> '," </div>"])),this.hass.localize("panel.energy")),this.hass,null!==(e=this.hass.user)&&void 0!==e&&e.is_admin?(0,v.dy)(r||(r=(0,l.Z)([' <ha-list-item slot="overflow-menu" graphic="icon" @request-selected="','"> <ha-svg-icon slot="graphic" .path="','"> </ha-svg-icon> '," </ha-list-item> "])),this._navigateConfig,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",this.hass.localize("ui.panel.energy.configure")):v.Ld,this.hass,this.narrow,this._lovelace,this._viewIndex,this._reloadView)}},{kind:"method",key:"_setLovelace",value:function(){var e,t;this._lovelace={config:k,rawConfig:k,editMode:!1,urlPath:"energy",mode:"generated",locale:this.hass.locale,enableFullEditMode:function(){},saveConfig:(t=(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),deleteConfig:(e=(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),setEditMode:function(){}}}},{kind:"method",key:"_navigateConfig",value:function(e){e.stopPropagation(),(0,_.c)("/config/energy?historyBack=1")}},{kind:"method",key:"_reloadView",value:function(){var e=this._lovelace.config;this._lovelace=Object.assign(Object.assign({},this._lovelace),{},{config:Object.assign(Object.assign({},e),{},{views:[Object.assign({},e.views[0])]})})}},{kind:"get",static:!0,key:"styles",value:function(){return[y.Qx,(0,v.iv)(s||(s=(0,l.Z)([":host hui-energy-period-selector{width:100%;padding-left:32px;padding-inline-start:32px;--disabled-text-color:rgba(var(--rgb-text-primary-color), 0.5);direction:var(--direction);--date-range-picker-max-height:calc(100vh - 80px)}:host([narrow]) hui-energy-period-selector{padding-left:0px;padding-inline-start:0px}:host{-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}.header{background-color:var(--app-header-background-color);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);position:fixed;top:0;width:var(--mdc-top-app-bar-width,100%);padding-top:env(safe-area-inset-top);z-index:4;transition:box-shadow .2s linear;display:flex;flex-direction:row}:host([scrolled]) .header{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow,0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12))}.toolbar{height:var(--header-height);display:flex;flex:1;align-items:center;font-size:20px;padding:0px 12px;font-weight:400;box-sizing:border-box}@media (max-width:599px){.toolbar{padding:0 4px}}.main-title{margin:0 0 0 24px;line-height:20px;flex-grow:1}#view{position:relative;display:flex;padding-top:calc(var(--header-height) + env(safe-area-inset-top));min-height:100vh;box-sizing:border-box;padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom)}hui-view{background:var(--lovelace-background,var(--primary-background-color))}#view>*{flex:1 1 100%;max-width:100%}"])))]}}]}}),v.oi)},23754:function(e,t,n){var i,a,r,s=n(88962),o=n(93359),c=n(99312),l=n(81043),d=n(33368),h=n(71650),u=n(82390),p=n(69205),f=n(70906),g=n(91808),v=n(34541),m=n(47838),y=(n(97393),n(47704),n(59429)),_=n(93752),k=n(43340),b=n(59401),x=n(59281),Z=n(13250),w=n(1905),D=n(24892),A=n(4223),C=n(69388),S=n(70451),O=n(24112),P=n(74774),z=n(63390),T=n(38588),B=n(32182),M=n(79021),R=n(70390),L=n(68144),j=n(95260),E=n(14516),W=n(72043),H=n(26410),U=n(12198),F=n(38346),V=(n(81545),n(84431),n(13814),n(14471),n(17623),n(55424)),I=n(73826),q=n(44281);(0,g.Z)([(0,j.Mo)("hui-energy-period-selector")],(function(e,t){var n,g=function(t){(0,p.Z)(i,t);var n=(0,f.Z)(i);function i(){var t;(0,h.Z)(this,i);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,u.Z)(t)),t}return(0,d.Z)(i)}(t);return{F:g,d:[{kind:"field",decorators:[(0,j.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,j.Cb)()],key:"collectionKey",value:void 0},{kind:"field",decorators:[(0,j.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,j.SB)()],key:"_startDate",value:void 0},{kind:"field",decorators:[(0,j.SB)()],key:"_endDate",value:void 0},{kind:"field",decorators:[(0,j.SB)()],key:"_ranges",value:function(){return{}}},{kind:"field",decorators:[(0,j.SB)()],key:"_compare",value:function(){return!1}},{kind:"field",key:"_resizeObserver",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){var e=this;return[(0,V.UB)(this.hass,{key:this.collectionKey}).subscribe((function(t){return e._updateDates(t)}))]}},{kind:"method",key:"_measure",value:function(){this.narrow=this.offsetWidth<450}},{kind:"method",key:"_attachObserver",value:(n=(0,l.Z)((0,c.Z)().mark((function e(){var t=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._resizeObserver){e.next=4;break}return e.next=3,(0,q.j)();case 3:this._resizeObserver=new ResizeObserver((0,F.D)((function(){return t._measure()}),250,!1));case 4:this._resizeObserver.observe(this);case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"firstUpdated",value:function(){this._attachObserver()}},{kind:"method",key:"connectedCallback",value:function(){var e=this;(0,v.Z)((0,m.Z)(g.prototype),"connectedCallback",this).call(this),this.updateComplete.then((function(){return e._attachObserver()}))}},{kind:"method",key:"disconnectedCallback",value:function(){(0,v.Z)((0,m.Z)(g.prototype),"disconnectedCallback",this).call(this),this._resizeObserver&&this._resizeObserver.disconnect()}},{kind:"method",key:"willUpdate",value:function(e){var t,n;if((0,v.Z)((0,m.Z)(g.prototype),"willUpdate",this).call(this,e),this.hasUpdated||this._measure(),!this.hasUpdated||e.has("hass")&&(null===(t=this.hass)||void 0===t?void 0:t.localize)!==(null===(n=e.get("hass"))||void 0===n?void 0:n.localize)){var i=new Date,a=(0,H.Bt)(this.hass.locale);this._ranges=(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},this.hass.localize("ui.components.date-range-picker.ranges.today"),[(0,W.A)(i,y.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,W.A)(i,_.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.yesterday"),[(0,W.A)((0,W.A)(i,k.Z,this.hass.locale,this.hass.config,1),y.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,W.A)((0,W.A)(i,k.Z,this.hass.locale,this.hass.config,1),_.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.this_week"),[(0,W.A)(i,b.Z,this.hass.locale,this.hass.config,{weekStartsOn:a}),(0,W.A)(i,x.Z,this.hass.locale,this.hass.config,{weekStartsOn:a})]),this.hass.localize("ui.components.date-range-picker.ranges.this_month"),[(0,W.A)(i,Z.Z,this.hass.locale,this.hass.config),(0,W.A)(i,w.Z,this.hass.locale,this.hass.config)]),this.hass.localize("ui.components.date-range-picker.ranges.this_quarter"),[(0,W.A)(i,D.Z,this.hass.locale,this.hass.config),(0,W.A)(i,A.Z,this.hass.locale,this.hass.config)]),this.hass.localize("ui.components.date-range-picker.ranges.this_year"),[(0,W.A)(i,C.Z,this.hass.locale,this.hass.config),(0,W.A)(i,S.Z,this.hass.locale,this.hass.config)])}}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._startDate)return L.Ld;var e=this._simpleRange(this._startDate,this._endDate,this.hass.locale,this.hass.config);return(0,L.dy)(i||(i=(0,s.Z)([' <div class="row"> <div class="label"> ',' </div> <div class="time-handle"> <ha-icon-button-prev .label="','" @click="','"></ha-icon-button-prev> <ha-icon-button-next .label="','" @click="','"></ha-icon-button-next> <ha-date-range-picker .hass="','" .startDate="','" .endDate="','" .ranges="','" @change="','" .timePicker="','" minimal></ha-date-range-picker> </div> ',' <ha-button-menu> <ha-icon-button slot="trigger" .label="','" .path="','"></ha-icon-button> <ha-check-list-item left @request-selected="','" .selected="','"> ',' </ha-check-list-item> <slot name="overflow-menu"></slot> </ha-button-menu> </div> '])),"day"===e?this.narrow?(0,U.mn)(this._startDate,this.hass.locale,this.hass.config):(0,U.p6)(this._startDate,this.hass.locale,this.hass.config):"month"===e?(0,U.NC)(this._startDate,this.hass.locale,this.hass.config):"year"===e?(0,U.yQ)(this._startDate,this.hass.locale,this.hass.config):"".concat((0,U.ud)(this._startDate,this.hass.locale,this.hass.config)," – ").concat((0,U.ud)(this._endDate||new Date,this.hass.locale,this.hass.config)),this.hass.localize("ui.panel.lovelace.components.energy_period_selector.previous"),this._pickPrevious,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.next"),this._pickNext,this.hass,this._startDate,this._endDate||new Date,this._ranges,this._dateRangeChanged,!1,this.narrow?L.Ld:(0,L.dy)(a||(a=(0,s.Z)(['<mwc-button dense outlined @click="','"> '," </mwc-button>"])),this._pickToday,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.today")),this.hass.localize("ui.common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this._toggleCompare,this._compare,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.compare"))}},{kind:"field",key:"_simpleRange",value:function(){return(0,E.Z)((function(e,t,n,i){if(0===(0,O.Z)(t,e))return"day";if((0,W.v)(e,P.Z,n,i)&&(0,W.v)(t,z.Z,n,i)){if(0===(0,W.v)(t,T.Z,n,i,e))return"month";if(2===(0,W.v)(t,T.Z,n,i,e)&&e.getMonth()%3==0)return"quarter"}return(0,W.v)(e,P.Z,n,i)&&(0,W.v)(t,z.Z,n,i)&&11===(0,W.v)(t,T.Z,n,i,e)?"year":"other"}))}},{kind:"method",key:"_updateCollectionPeriod",value:function(){var e=(0,V.UB)(this.hass,{key:this.collectionKey});e.setPeriod(this._startDate,this._endDate),e.refresh()}},{kind:"method",key:"_dateRangeChanged",value:function(e){var t=(0,H.Bt)(this.hass.locale);this._startDate=(0,W.A)(e.detail.startDate,y.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),this._endDate=(0,W.A)(e.detail.endDate,_.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),this._updateCollectionPeriod()}},{kind:"method",key:"_pickToday",value:function(){if(this._startDate){var e=this._simpleRange(this._startDate,this._endDate,this.hass.locale,this.hass.config),t=new Date;if("month"===e)this._startDate=(0,W.A)(t,Z.Z,this.hass.locale,this.hass.config),this._endDate=(0,W.A)(t,w.Z,this.hass.locale,this.hass.config);else if("quarter"===e)this._startDate=(0,W.A)(t,D.Z,this.hass.locale,this.hass.config),this._endDate=(0,W.A)(t,A.Z,this.hass.locale,this.hass.config);else if("year"===e)this._startDate=(0,W.A)(t,C.Z,this.hass.locale,this.hass.config),this._endDate=(0,W.A)(t,S.Z,this.hass.locale,this.hass.config);else{var n=(0,H.Bt)(this.hass.locale),i=(0,W.A)(this._endDate,b.Z,this.hass.locale,this.hass.config,{weekStartsOn:n}),a=(0,W.A)(this._endDate,x.Z,this.hass.locale,this.hass.config,{weekStartsOn:n});if(this._startDate.getTime()===i.getTime()&&this._endDate.getTime()===a.getTime())this._startDate=(0,W.A)(t,b.Z,this.hass.locale,this.hass.config,{weekStartsOn:n}),this._endDate=(0,W.A)(t,x.Z,this.hass.locale,this.hass.config,{weekStartsOn:n});else{var r=(0,W.v)(this._endDate,O.Z,this.hass.locale,this.hass.config,this._startDate);this._startDate=(0,W.A)((0,W.A)(t,k.Z,this.hass.locale,this.hass.config,r),y.Z,this.hass.locale,this.hass.config,{weekStartsOn:n}),this._endDate=(0,W.A)(t,_.Z,this.hass.locale,this.hass.config,{weekStartsOn:n})}}this._updateCollectionPeriod()}}},{kind:"method",key:"_pickPrevious",value:function(){this._shift(!1)}},{kind:"method",key:"_pickNext",value:function(){this._shift(!0)}},{kind:"method",key:"_shift",value:function(e){if(this._startDate){var t,n;if((0,W.v)(this._startDate,P.Z,this.hass.locale,this.hass.config)&&(0,W.v)(this._endDate,z.Z,this.hass.locale,this.hass.config)){var i=((0,W.v)(this._endDate,T.Z,this.hass.locale,this.hass.config,this._startDate)+1)*(e?1:-1);t=(0,W.A)(this._startDate,B.Z,this.hass.locale,this.hass.config,i),n=(0,W.A)((0,W.A)(this._endDate,B.Z,this.hass.locale,this.hass.config,i),w.Z,this.hass.locale,this.hass.config)}else{var a=((0,W.v)(this._endDate,O.Z,this.hass.locale,this.hass.config,this._startDate)+1)*(e?1:-1);t=(0,W.A)(this._startDate,M.Z,this.hass.locale,this.hass.config,a),n=(0,W.A)(this._endDate,M.Z,this.hass.locale,this.hass.config,a)}this._startDate=t,this._endDate=n,this._updateCollectionPeriod()}}},{kind:"method",key:"_updateDates",value:function(e){this._compare=void 0!==e.startCompare,this._startDate=e.start,this._endDate=e.end||(0,R.Z)()}},{kind:"method",key:"_toggleCompare",value:function(e){if("interaction"===e.detail.source){this._compare=e.detail.selected;var t=(0,V.UB)(this.hass,{key:this.collectionKey});t.setCompare(this._compare),t.refresh()}}},{kind:"get",static:!0,key:"styles",value:function(){return(0,L.iv)(r||(r=(0,s.Z)([".row{display:flex;align-items:center}:host .time-handle{display:flex;justify-content:flex-end;align-items:center}:host([narrow]) .time-handle{margin-left:auto}.label{display:flex;align-items:center;justify-content:flex-end;font-size:20px;margin-left:auto}:host([narrow]) .label{margin-left:unset}mwc-button{margin-left:8px;flex-shrink:0;--mdc-button-outline-color:currentColor;--primary-color:currentColor;--mdc-theme-primary:currentColor;--mdc-theme-on-primary:currentColor;--mdc-button-disabled-outline-color:var(--disabled-text-color);--mdc-button-disabled-ink-color:var(--disabled-text-color)}"])))}}]}}),(0,I.f)(L.oi))}}]);
//# sourceMappingURL=40003.RmtrFTjCQSE.js.map